<?php 
class InversePatternValidator extends BLITZValidator
{
	public $pattern;
	
	public function __construct($key, $required=false, $pattern, $message=null)
	{
		$this->isRequired    =  $required;
		$this->shouldRequire =  $required ? false : true;
		$this->pattern       =  $pattern;
		$this->key           =  $key;
		$this->message       =  $message;
	}
	
	public function validate()
	{
		$value = $this->form->{$this->key};
		$this->updateRequiredFlag($value);
		
		$this->isValid = filter_var($value, 
									FILTER_VALIDATE_REGEXP, 
									array("options"=>array("regexp"=>$this->pattern)));
		
		$this->isValid = !$this->isValid;
	}
}
?>